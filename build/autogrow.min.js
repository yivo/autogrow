(function(){!function(e){var t;t="object"==typeof self&&null!==self&&self.self===self?self:"object"==typeof global&&null!==global&&global.global===global?global:void 0,"function"==typeof define&&"object"==typeof define.amd&&null!==define.amd?(t.TextHeight=e(t),define(function(){return t.TextHeight})):"object"==typeof module&&null!==module&&"object"==typeof module.exports&&null!==module.exports?module.exports=e(t):t.TextHeight=e(t)}(function(e){var t,n,o,r,l,i,a,s,u;return l=function(){var e,t,n;return t=/[&<>"]/g,n={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"},e=function(e){var t;return null!=(t=n[e])?t:e},function(n){return n.replace(t,e)}}(),a=function(e){return e.replace(/\n\r?/g,"<br>")},r=function(){return $(document.createElement("div"))},s=function(e){var t;return t=e[0],t.style.overflow="hidden",e.is("textarea")&&(t.style.resize="none",t.style.minHeight=t.rows+"em"),e},u=function(e,t){var n;return n=e[0],n.style.display="none",n.style.wordWrap=t.css("word-wrap"),n.style.whiteSpace=t.css("white-space"),n.style.wordBreak=t.css("word-break"),n.style.overflowWrap=t.css("overflow-wrap"),n.style.padding=t.css("paddingTop")+" "+t.css("paddingRight")+" "+t.css("paddingBottom")+" "+t.css("paddingLeft"),n.style.width=t.css("width"),n.style.fontFamily=t.css("font-family"),n.style.fontSize=t.css("font-size"),n.style.lineHeight=t.css("line-height"),n.style.textAlign=t.css("text-align"),e},o=function(e,t){var n;return n=null!=e?a(l(e)):"",(0===n.length||/<br>$/.test(n))&&(n+="_"),(null!=t?t.padding:void 0)&&(n+="\n_"),n},t=null,i=function(e,n,l){var i,a,s,c;return i=$(n),a=i.data("autogrow-mirror"),null!=a?u(a,i):(a=u(r(),i),i.data("autogrow-mirror",a)),null==t&&(t=$(document.body)),t.append(a),s=o(e,l),a[0].innerHTML=s,c=a.height(),a.detach(),c},n=function(e,t){var n,l,i,a;n=s($(e)),l=u(r(),n),n.after(l[0]),a=n.is("textarea")?function(){return e.value}:function(){return n.text()},i=function(){var e;e=o(a(),t),l[0].innerHTML=e,n.height(l.height())},n.on("change.autogrow",i),n.is("textarea")&&n.on("input.autogrow paste.autogrow",i),i()},$.fn.autogrow=function(e){var t,o,r;for(o=0,r=this.length;r>o;o++)t=this[o],n(t,e);return this},{autogrow:n,measure:i,nl2br:a}})}).call(this);