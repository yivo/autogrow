(function(){!function(t){var e;e="object"==typeof self&&null!==self&&self.self===self?self:"object"==typeof global&&null!==global&&global.global===global?global:void 0,"function"==typeof define&&"object"==typeof define.amd&&null!==define.amd?(e.TextHeight=t(e),define(function(){return e.TextHeight})):"object"==typeof module&&null!==module&&"object"==typeof module.exports&&null!==module.exports?module.exports=t(e):e.TextHeight=t(e)}(function(t){var e,n,o,r,l,i,a,u,s;return l=function(){var t,e,n;return e=/[&<>"]/g,n={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"},t=function(t){var e;return null!=(e=n[t])?e:t},function(n){return n.replace(e,t)}}(),a=function(t){return t.replace(/\n\r?/g,"<br>")},r=function(){return $(document.createElement("div"))},u=function(t){var e;return e=t[0],e.style.overflow="hidden",t.is("textarea")&&(e.style.resize="none",e.style.minHeight=e.rows+"em"),t},s=function(t,e){var n;return n=t[0],n.style.display="none",n.style.wordWrap=e.css("word-wrap"),n.style.whiteSpace=e.css("white-space"),n.style.wordBreak=e.css("word-break"),n.style.overflowWrap=e.css("overflow-wrap"),n.style.padding=e.css("paddingTop")+" "+e.css("paddingRight")+" "+e.css("paddingBottom")+" "+e.css("paddingLeft"),n.style.width=e.css("width"),n.style.fontFamily=e.css("font-family"),n.style.fontSize=e.css("font-size"),n.style.lineHeight=e.css("line-height"),n.style.textAlign=e.css("text-align"),t},o=function(t,e){var n;return n=null!=t?a(l(t)):"",(0===n.length||/<br>$/.test(n))&&(n+="_"),(null!=e?e.padding:void 0)&&(n+="\n_"),n},e=null,i=function(t,n,l){var i,a,u,c;return i=$(n),a=i.data("autogrow-mirror"),null!=a?s(a,i):(a=s(r(),i),i.data("autogrow-mirror",a)),null==e&&(e=$(document.body)),e.append(a),u=o(t,l),a[0].innerHTML=u,c=a.height(),a.detach(),c},n=function(t,e){var n,l,i,a,c;n=$(t),null!=n[0]&&(null!=(i=n.data("autogrow"))?i():(l=r(),u(n),s(l,n),n.after(l[0]),c=n.is("textarea")?function(){return t.value}:function(){return n.text()},a=function(){var t;t=o(c(),e),l[0].innerHTML=t,n.height(l.height())},n.on("change.autogrow",a),n.is("textarea")&&n.on("input.autogrow paste.autogrow",a),a()))},$.fn.autogrow=function(t){var e,o,r;for(o=0,r=this.length;r>o;o++)e=this[o],n(e,t);return this},{autogrow:n,measure:i,nl2br:a}})}).call(this);