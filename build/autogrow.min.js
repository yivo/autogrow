(function(){!function(t){var e;e="object"==typeof self&&null!==self&&self.self===self?self:"object"==typeof global&&null!==global&&global.global===global?global:void 0,"function"==typeof define&&"object"==typeof define.amd&&null!==define.amd?(e.TextHeight=t(e),define(function(){return e.TextHeight})):"object"==typeof module&&null!==module&&"object"==typeof module.exports&&null!==module.exports?module.exports=t(e):e.TextHeight=t(e)}(function(t){var e,n,o,r,l,i,a,s;return r=function(){var t,e,n;return e=/[&<>"]/g,n={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"},t=function(t){var e;return null!=(e=n[t])?e:t},function(n){return n.replace(e,t)}}(),i=function(t){return t.replace(/\n\r?/g,"<br>")},o=function(t){var e;return e=document.createElement("div"),t.after(e),$(e)},a=function(t){var e;return e=t[0],e.style.overflow="hidden",t.is("textarea")&&(e.style.resize="none",e.style.minHeight=e.rows+"em"),t},s=function(t,e){var n;return n=t[0],n.style.display="none",n.style.wordWrap=e.css("word-wrap"),n.style.whiteSpace=e.css("white-space"),n.style.wordBreak=e.css("word-break"),n.style.overflowWrap=e.css("overflow-wrap"),n.style.padding=e.css("paddingTop")+" "+e.css("paddingRight")+" "+e.css("paddingBottom")+" "+e.css("paddingLeft"),n.style.width=e.css("width"),n.style.fontFamily=e.css("font-family"),n.style.fontSize=e.css("font-size"),n.style.lineHeight=e.css("line-height"),n.style.textAlign=e.css("text-align"),t},n=function(t,e){var n;return n=null!=t?i(r(t)):"",(0===n.length||/<br>$/.test(n))&&(n+="_"),(null!=e?e.padding:void 0)&&(n+="\n_"),n},l=function(t,e,r){var l,i,a,u;return l=$(e),i=l.data("autogrow-mirror"),null!=i?(s(i,l),l.after(i)):(i=s(o(l),l),l.data("autogrow-mirror",i)),a=n(t,r),i[0].innerHTML=a,u=i.height(),i.detach(),u},e=function(t,e){var r,l,i,u;r=a($(t)),l=s(o(r),r),u=r.is("textarea")?function(){return t.value}:function(){return r.text()},i=function(){var t;t=n(u(),e),l[0].innerHTML=t,r.height(l.height())},r.on("change.autogrow",i),r.is("textarea")&&r.on("input.autogrow paste.autogrow",i),i()},$.fn.autogrow=function(t){var n,o,r;for(o=0,r=this.length;r>o;o++)n=this[o],e(n,t);return this},{autogrow:e,measure:l,nl2br:i}})}).call(this);